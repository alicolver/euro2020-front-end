{"version":3,"sources":["img/logo.png","utils/Constants.ts","utils/Utils.ts","authentication/Copyright.tsx","authentication/SignUp.tsx","leaderboard/PointCard.tsx","league/LeaguePreview.tsx","league/League.tsx","img/qatar.png","misc/Header.tsx","predictions/Constants.ts","utils/s3.ts","predictions/Team.tsx","predictions/Prediction.tsx","predictions/Predictions.tsx","homepage/Homepage.tsx","league/JoinLeague.tsx","league/CreateLeague.tsx","authentication/PasswordReset.tsx","authentication/Redirect.tsx","authentication/SignIn.tsx","standings/standings.tsx","App.js","reportWebVitals.js","serviceWorkerRegistration.ts","index.tsx"],"names":["PROXY","PORT_EXTENSION","window","location","port","HOST_URL","protocol","hostname","isTokenValid","jwt","getJWT","refresh","extractToken","fetch","method","headers","mode","then","res","status","setAuthToken","get","RESPONSE_AUTH_HEADER","resolveEndpoint","endpoint","token","document","cookie","name","parts","split","length","pop","shift","capitalizeFirstLetter","input","charAt","toUpperCase","slice","Copyright","Typography","variant","color","align","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","height","logo","maxHeight","generateSignInLink","params","toString","SignUp","classes","useState","isLoading","setIsLoading","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","isEmailValid","setIsEmailValid","successfulSingUp","setSuccessfulSignup","validToken","setValidToken","search","URLSearchParams","useLocation","submitForm","test","String","toLowerCase","validateEmail","body","JSON","stringify","givenName","familyName","json","result","console","log","alert","useEffect","valid","to","Container","component","maxWidth","CssBaseline","className","src","alt","Grid","container","item","xs","sm","TextField","autoComplete","required","fullWidth","id","label","autoFocus","onChange","target","value","type","error","Button","onClick","CircularProgress","render","history","Link","push","Box","mt","paddingTop","justifyContent","boxShadow","borderRadius","textAlign","verticalAlign","overflow","whiteSpace","middle","score","fontSize","middleScore","title","fontWeight","PointsCard","table","marginBottom","position","paddingBottom","LeaguePreview","useHistory","leagueData","setLeagueData","open","setOpen","Authorization","ok","data","leagues","TableContainer","Snackbar","onClose","autoHideDuration","Alert","severity","sx","Table","size","TableHead","TableRow","TableCell","TableBody","colSpan","LinearProgress","map","index","users","filter","user","rank","currentRanking","leagueId","style","leagueName","link","navigator","clipboard","writeText","leagueTopDiv","content","top","marginLeft","marginRight","left","heading","leagueItem","flex","leagueConfig","paddingLeft","paddingRight","iconStyle","leagueContainer","button","minWidth","League","headerBar","padding","background","zIndex","Header","logout","AppBar","qatar","right","EMPTY_PREDICTION","homeScore","awayScore","getImageUrl","country","replace","team","teamFlag","teamName","Team","props","flag","match","game","teaminput","date","maringTop","matchCard","penaltyWinner","resultText","allPredictionContainer","defaultWasSent","success","PredictionCard","predictionData","teamOneScore","setTeamOneScore","teamTwoScore","setTeamTwoScore","wasSent","setWasSent","getResponseGlow","border","handlePrediction","scoreOne","parseInt","scoreTwo","areBothScoresValid","isNaN","validateScores","matchData","matchId","setTimeout","Card","matchDate","matchTime","homeTeam","OutlinedInput","onBlur","awayTeam","header","Predictions","Map","setPredictionData","hasFetched","setHasFetched","matchIds","asMap","Object","entries","m","predData","has","homepage","createMuiTheme","typography","fontFamily","join","Homepage","imminentMatches","nextMatches","setMatchData","Toolbar","useStylesLeague","gradient","first","textDecoration","cursor","inputText","JoinLeaguePage","setLeagueName","helperText","CreateLeaguePage","setSuccess","isWaiting","setIsWaiting","PasswordReset","otpIsLoading","setOtpIsLoading","resetPassIsLoading","setResetPassIsLoading","state","otp","setOtp","successfulReset","setSuccessfulReset","catch","confirmationCode","AuthRedirect","expectAuthResult","redirectTo","combinedParams","fromEntries","set","generateRedirectSearchParams","pathname","children","generateHomeLink","redirect","delete","SignIn","signUpLink","handleLogin","subHeading","standings","Standings","undefined","sort","a","b","u","totalPoints","userId","primary","light","dark","contrastText","App","ThemeProvider","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","Boolean","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","StrictMode","getElementById","URL","process","href","origin","addEventListener","response","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c4bde523.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.165cd143.png\";","import { IMatchData } from \"../types/types\"\n\nexport const PROXY = 'https://mvlag9k698.execute-api.eu-west-2.amazonaws.com/prod/' // PROD!!!\n// export const PROXY = 'https://m8n8luh9ri.execute-api.eu-west-2.amazonaws.com/prod/' // ALI DEV STACK\n// export const PROXY = 'https://g9pl9osqs5.execute-api.eu-west-2.amazonaws.com/prod/' // LUKE DEV STACK\n// export const PROXY = 'https://vd3ek24g2d.execute-api.eu-west-2.amazonaws.com/prod/' // SIMON DEV STACK\nexport const LAMBDA = 'https://dle6yh5vm2.execute-api.eu-west-2.amazonaws.com/'\nexport const SUCCESS = 'success'\n\nconst PORT_EXTENSION = window.location.port ? `:${window.location.port}` : \"\"\n\nexport const HOST_URL = `${window.location.protocol}//${window.location.hostname}${PORT_EXTENSION}/worldcup#/`\n\nexport const pub = 'BAytDQ8so4h7QqWVGInkAkNvnuuccVmgnvTKex5qszq5QhgH8nYC7ydy1AVuHmDtkZhIrBh8ZRb3F-Qv8BqCUlA'\n\nexport const mockMatchData: IMatchData = {\n    matchId: 'testing',\n    homeTeam: 'South Korea',\n    awayTeam: 'switzerland',\n    gameStage: \"GROUP\",\n    matchDay: 1,\n    matchDate: '2022-11-20',\n    matchTime: '15:00',\n    isFinished: false,\n}","import { PROXY } from './Constants'\nimport jwtDecode from \"jwt-decode\"\n\ninterface IDecodedUser {\n    userid: number\n    isAdmin?: boolean,\n}\n\nexport function isTokenValid(): Promise<boolean> {\n    const jwt = getJWT();\n    const refresh = getRefreshToken()\n    return fetch(PROXY + \"auth/check\", {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': jwt,\n            'Refresh': refresh,\n        },\n        mode: \"cors\"\n    }).then(res => {\n        if (res.status === 200) {\n            setAuthToken(res.headers.get(RESPONSE_AUTH_HEADER))\n            return true\n        }\n        return false\n    })\n}\n\nexport function isAdminCheck(): boolean {\n    const jwt = getJWT();\n    try {\n        const decoded = jwtDecode<IDecodedUser>(jwt)\n        if (decoded.isAdmin) {\n            return decoded.isAdmin\n        }\n    } catch { }\n    return false\n}\n\nexport function getUserid(): number {\n    const jwt = getJWT();\n    try {\n        const decoded = jwtDecode<IDecodedUser>(jwt)\n        return decoded.userid\n    } catch { }\n    return 0\n}\n\n\nexport function validateEmail(email: String): boolean {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n}\n\nexport function dateToOrdinal(day: number) {\n    if (day > 3 && day < 21) return 'th';\n    switch (day % 10) {\n        case 1: return \"st\";\n        case 2: return \"nd\";\n        case 3: return \"rd\";\n        default: return \"th\";\n    }\n}\n\nexport function calculateScore(pred_one_goals: string | undefined, pred_two_goals: string | undefined, act_one_goals: number, act_two_goals: number): number {\n    if (pred_one_goals === undefined || pred_two_goals === undefined) {\n        return 0\n    }\n\n    const pred_one = parseInt(pred_one_goals)\n    const pred_two = parseInt(pred_two_goals)\n\n    if (pred_one === act_one_goals && pred_two === act_two_goals) {\n        return 3\n    }\n\n    if (act_one_goals > act_two_goals && pred_one > pred_two) {\n        return 1\n    }\n\n    if (act_one_goals < act_two_goals && pred_one < pred_two) {\n        return 1\n    }\n\n    if (act_one_goals === act_two_goals && pred_one === pred_two) {\n        return 1\n    }\n\n    return 0\n}\n\nexport function gotScoreCorrect(pred_one_goals: string | undefined, pred_two_goals: string | undefined, act_one_goals: number, act_two_goals: number): boolean {\n    if (pred_one_goals === undefined || pred_two_goals === undefined) {\n        return false\n    }\n\n    const pred_one = parseInt(pred_one_goals)\n    const pred_two = parseInt(pred_two_goals)\n\n    return pred_one === act_one_goals && pred_two === act_two_goals\n}\n\nexport function gotResultCorrect(pred_one_goals: string | undefined, pred_two_goals: string | undefined, act_one_goals: number, act_two_goals: number): boolean {\n    if (pred_one_goals === undefined || pred_two_goals === undefined) {\n        return false\n    }\n\n    const pred_one = parseInt(pred_one_goals)\n    const pred_two = parseInt(pred_two_goals)\n\n    return ((act_one_goals > act_two_goals && pred_one > pred_two) || (act_one_goals < act_two_goals && pred_one < pred_two) || (act_one_goals === act_two_goals && pred_one === pred_two))\n}\n\nexport function resolveEndpoint(endpoint: string): string {\n    return PROXY + endpoint\n}\n\nexport const RESPONSE_AUTH_HEADER: string = \"x-amzn-remapped-authorization\"\nexport const RESPONSE_REFRESH_HEADER = \"refresh\"\n\nexport function setAuthToken(token: string | null) {\n    if (token) {\n        document.cookie = \"authtoken=\" + token;\n    }\n}\n\nexport function setRefreshToken(token: string | null) {\n    if (token) {\n        document.cookie = \"refreshtoken=\" + token;\n    }\n}\n\nconst extractToken = (name: string) => {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) {\n        const jwt = parts.pop()!.split(';').shift()\n        return (typeof jwt === 'undefined') ? '' : jwt;\n    }\n    return '';\n}\n\nexport function getJWT(): string {\n    return extractToken(\"authtoken\")\n}\n\nexport function getRefreshToken(): string {\n    return extractToken(\"refreshtoken\")\n}\n\nexport function deleteJWT() {\n    document.cookie = 'authtoken=';\n}\n\nexport function deleteRefreshToken() {\n    document.cookie = 'refreshtoken=';\n}\n\nexport const capitalizeFirstLetter = (input: string) => input.charAt(0).toUpperCase() + input.slice(1);","import Typography from '@material-ui/core/Typography';\n\nexport const Copyright = () => {\n    return (\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright © '}\n          Ali Colver, Luke Ely & Simon Archer{' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n    );\n  }","import React, { useEffect, useState } from 'react';\nimport { Redirect, Route, useLocation } from 'react-router-dom'\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport logo from '../img/logo.png';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { resolveEndpoint, isTokenValid, validateEmail } from '../utils/Utils';\nimport { SUCCESS } from '../utils/Constants';\nimport { Copyright } from './Copyright';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: \"3rem\"\n  },\n  logo: {\n    maxHeight: '10vh'\n  }\n}));\n\nconst generateSignInLink = (params: URLSearchParams) => {\n  return `/?${params.toString()}`\n}\n\nexport default function SignUp() {\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(false)\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [successfulSingUp, setSuccessfulSignup] = useState(false);\n  const [validToken, setValidToken] = useState(false);\n  const search = new URLSearchParams(useLocation().search)\n\n  useEffect(() => {\n    isTokenValid().then(valid => {\n      if (valid) {\n        setValidToken(true)\n      }\n    })\n  }, [setValidToken])\n\n  function submitForm() {\n    setIsLoading(true)\n    if (!validateEmail(email)) {\n      setIsLoading(false)\n      setIsEmailValid(false)\n      return\n    }\n\n    if (password !== confirmPassword) {\n      setIsLoading(false)\n      return\n    }\n\n    fetch(resolveEndpoint('auth/signup'), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password,\n        givenName: firstName,\n        familyName: lastName\n      })\n    })\n      .then(res => res.json())\n      .then(result => {\n        setIsLoading(false)\n        console.log(result)\n        if (result[SUCCESS] === false) {\n          alert('error whilst signing up :(')\n        } else {\n          setSuccessfulSignup(true)\n        }\n      })\n  }\n\n  if (validToken) {\n    return (\n      <Redirect to={'/home'} />\n    )\n  }\n  else if (successfulSingUp) {\n    return (\n      <Redirect to={generateSignInLink(search)} />\n    )\n  } else {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <img className={classes.logo} src={logo} alt={'qatar 2022 logo'} />\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <div className={classes.form}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  autoComplete=\"fname\"\n                  name=\"firstName\"\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"firstName\"\n                  label=\"First Name\"\n                  autoFocus\n                  onChange={(input) => setFirstName(input.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"lastName\"\n                  label=\"Last Name\"\n                  name=\"lastName\"\n                  autoComplete=\"lname\"\n                  onChange={(input) => setLastName(input.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  type=\"email\"\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  onChange={(input) => setEmail(input.target.value)}\n                  error={!isEmailValid}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  onChange={(input) => setPassword(input.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"confirmpassword\"\n                  label=\"Confirm Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  onChange={(input) => setConfirmPassword(input.target.value)}\n                  error={password !== confirmPassword}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={() => submitForm()}\n            >\n              {isLoading ? <CircularProgress color=\"inherit\" /> : \"Sign Up\"}\n            </Button>\n            <Grid container>\n              <Grid item>\n                <Route render={({ history }: { history: any }) => (\n                  <Link onClick={() => { history.push(generateSignInLink(search)) }} variant=\"body2\">\n                    Already have an account? Sign in\n                  </Link>\n                )} />\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </Container>\n    );\n  }\n}","import { Container, makeStyles, Typography } from '@material-ui/core'\nimport './styles/card.css'\n\nconst useStyles = makeStyles({\n    container: {\n        paddingTop: '30px',\n        display: 'flex',               \n        justifyContent: 'space-between',\n        alignItems: 'center',\n        color: '#9a0c34',\n        '& > div': {\n            width: '25%',\n            height: '75px',\n            boxShadow: 'rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px',\n            borderRadius: '5px',\n            textAlign: 'center',\n            verticalAlign: 'middle',\n            overflow: 'hidden',\n            whiteSpace: 'nowrap'\n        }\n    },\n    middle: {\n        width: '40% !important',\n        height: '150px !important',\n    },\n    score: {\n        fontSize: '30px'\n    },\n    middleScore: {\n        fontSize: '80px'\n    },\n    title: {\n        color: '#AAAAAA',\n        fontWeight: 'bold'\n    }\n})\n\nexport default function PointsCard() {\n    const classes = useStyles()\n\n    return (\n        <Container className={classes.container}>\n            <Container>\n                <Typography className={classes.title}>Total</Typography>\n                <Typography className={classes.score}>0</Typography>\n            </Container>\n            <Container className={classes.middle}>\n                <Typography className={classes.title}>Today</Typography>\n                <Typography className={classes.middleScore}>0</Typography>\n            </Container>\n            <Container>\n                <Typography className={classes.title}>Rank</Typography>\n                <Typography className={classes.score}>=1</Typography>\n            </Container>\n        </Container>\n    )\n}","import {\n  makeStyles,\n  Snackbar,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { useState, useEffect, ReactFragment } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { ILeague } from \"../types/types\";\nimport { getJWT, resolveEndpoint } from \"../utils/Utils\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport { HOST_URL } from \"../utils/Constants\";\nimport { Alert, LinearProgress } from \"@mui/material\";\n\nconst useStyles = makeStyles({\n  table: {\n    marginBottom: \"1rem\",\n    position: 'relative',\n    paddingBottom: '5px'\n  },\n});\n\nexport default function LeaguePreview() {\n  const classes = useStyles();\n  const history = useHistory();\n  const [leagueData, setLeagueData] = useState<ILeague[]>([]);\n  const [open, setOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(resolveEndpoint(\"user/get-leagues\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: getJWT(),\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return null;\n        }\n        return res.json();\n      })\n      .then((res) => {\n        setIsLoading(false);\n        if (res !== null) {\n          setLeagueData(res.data.leagues);\n        }\n      });\n  }, [setLeagueData]);\n\n  const handleShareClick = (link: string) => {\n    setOpen(true);\n    navigator.clipboard.writeText(link);\n  };\n\n  function getRows(): ReactFragment {\n    return leagueData.map((data, index) => (\n      <TableRow key={data.leagueId}>\n        <TableCell>\n          {data.users.filter((user) => user.rank === data.currentRanking)\n            .length === 1\n            ? data.currentRanking\n            : \"=\" + data.currentRanking}\n        </TableCell>\n        <TableCell\n          onClick={() => history.push(\"/standings?leagueId=\" + data.leagueId)}\n          style={{ paddingTop: \"0.7rem\", paddingBottom: \"0.7rem\" }}\n        >\n          {data.leagueName}\n        </TableCell>\n        <TableCell>\n          {data.leagueId === \"global\" ? (\n            \"\"\n          ) : (\n            <ShareIcon\n              onClick={() =>\n                handleShareClick(\n                  `${HOST_URL}league/join?leagueId=${data.leagueId}`\n                )\n              }\n            />\n          )}\n        </TableCell>\n      </TableRow>\n    ));\n  }\n\n  return (\n    <TableContainer className={classes.table}>\n      <Snackbar\n        open={open}\n        onClose={() => setOpen(false)}\n        autoHideDuration={2000}\n      >\n        <Alert\n          onClose={() => setOpen(false)}\n          severity=\"success\"\n          sx={{\n            width: \"300px\",\n            \"& .MuiAlert-message\": { textAlign: \"center\", width: \"inherit\" },\n          }}\n        >\n          League link copied to clipboard!\n        </Alert>\n      </Snackbar>\n      <Table size=\"small\">\n        <TableHead>\n          <TableRow>\n            <TableCell>\n              <b>Rank</b>\n            </TableCell>\n            <TableCell>\n              <b>League</b>\n            </TableCell>\n            <TableCell>\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {isLoading && (\n            <TableRow>\n              <TableCell colSpan={3}>\n                <LinearProgress color=\"inherit\" />\n              </TableCell>\n            </TableRow>\n          )}\n          {!isLoading && getRows()}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n","import {\n\n  Container,\n  Typography,\n  makeStyles,\n  Button,\n} from \"@material-ui/core\";\nimport ControlPointIcon from \"@mui/icons-material/ControlPoint\";\nimport SettingsApplicationsIcon from \"@mui/icons-material/SettingsApplications\";\nimport LeaguePreview from \"./LeaguePreview\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n  leagueTopDiv: {\n    content: \"\",\n    position: \"relative\",\n    top: \"100%\",\n    marginTop: \"1.5rem\",\n    marginLeft: \"2.5%\",\n    marginRight: \"2.5%\",\n    left: \"0\",\n    width: \"95%\",\n    boxShadow: \"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px\",\n    borderRadius: \"2vw\",\n  },\n  heading: {\n    marginTop: \"1.75rem\",\n    fontSize: \"2rem\",\n    paddingBottom: \"1rem\",\n  },\n  leagueItem: {\n    flex: \"0 0 50%\",\n    marginRight: \"5px\",\n    borderRadius: \"1vw\",\n    verticalAlign: \"top\",\n    fontWeight: \"bold\",\n    margin: \"auto\",\n  },\n  leagueConfig: {\n    display: \"flex\",\n    textAlign: \"center\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"qrem\",\n    paddingLeft: \"0vw\",\n    paddingRight: \"0vw\",\n  },\n  iconStyle: {\n    verticalAlign: \"bottom\",\n  },\n  leagueContainer: {\n    paddingTop: \"1rem\",\n  },\n  button: {\n    borderRadius: \"1rem\",\n    minWidth: \"9rem\",\n    boxShadow: \"rgba(0, 0, 0, 0.24) 0px 3px 8px\",\n    fontWeight: \"bold\",\n    backgroundColor: \"rgb(154,12,52)\",\n    color: \"white\",\n  }\n});\n\nexport default function League() {\n  const classes = useStyles();\n  const history = useHistory();\n\n  return (\n      <Container>\n        <Typography className={classes.heading}>Leagues</Typography>\n        <Container className={classes.leagueConfig}>\n          <Button\n            className={classes.button}\n            onClick={() => history.push(\"/league/create\")}\n          >\n            <SettingsApplicationsIcon className={classes.iconStyle} />\n            <Typography style={{paddingLeft: \"1rem\"}}>Create</Typography>\n          </Button>\n          <Button\n            className={classes.button}\n            onClick={() => history.push(\"/league/join\")}\n          >\n            <ControlPointIcon className={classes.iconStyle} />\n            <Typography style={{paddingLeft: \"0.1rem\"}}>Join</Typography>\n          </Button>\n        </Container>\n        <Container className={classes.leagueTopDiv}>\n          <Container className={classes.leagueContainer}>\n            <LeaguePreview />\n          </Container>\n        </Container>\n      </Container>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/qatar.a111b206.png\";","import { AppBar, Box, makeStyles } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport qatar from \"../img/qatar.png\";\nimport { deleteJWT, deleteRefreshToken } from \"../utils/Utils\";\nimport LogoutIcon from \"@mui/icons-material/Logout\";\nimport HomeOutlinedIcon from '@mui/icons-material/HomeOutlined';\n\nconst useStyles = makeStyles({\n  logo: {\n    height: \"40px\",\n    display: \"block\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n  headerBar: {\n    marginBottom: \"10px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    padding: \"0.5rem\",\n    margin: 0,\n    width: \"100%\",\n    background:\n      \"linear-gradient(90deg, rgba(154,12,52,1) 0%, rgba(0,0,0,1) 100%)\",\n    zIndex: 10,\n    boxShadow: \"rgba(0, 0, 0, 0.16) 0px 1px 4px\",\n  },\n});\n\nexport default function Header() {\n  const classes = useStyles()\n  const history = useHistory()\n\n  function logout() {\n    deleteJWT()\n    deleteRefreshToken()\n    history.push(\"/\")\n  }\n\n  return (\n    <Box>\n      <AppBar className={classes.headerBar}>\n        <HomeOutlinedIcon onClick={() => history.push(\"/home\")}\n          sx={{ color: \"#FFFFFF\", position: \"absolute\", left: \"15px\" }}\n        />\n        <img className={classes.logo} src={qatar} alt={\"qatar 2022 logo\"} onClick={() => history.push(\"/home\")} />\n        <LogoutIcon onClick={() => logout()}\n          sx={{ color: \"#FFFFFF\", position: \"absolute\", right: \"15px\" }}\n        />\n      </AppBar>\n    </Box>\n  );\n}\n","import { IPredictionData } from \"../types/types\";\n\nexport const EMPTY_PREDICTION: IPredictionData = {\n    homeScore: null,\n    awayScore: null   \n}","const bucketUrl = 'https://worldcupstack-teamcrestbucket54e9be2b-ns704b66xn74.s3.eu-west-2.amazonaws.com/'\n\nexport function getImageUrl(country: string) {\n    return bucketUrl + country.toLowerCase().replace(' ', '-') + '.svg'\n}","import { Box, makeStyles, Typography } from \"@material-ui/core\"\n\ninterface ITeamProps {\n    flag: string,\n    name: string\n}\n\nconst useStyles = makeStyles({\n    team: {\n        textAlign: 'center',\n    },\n    teamFlag: {\n        borderRadius: '5px',\n        boxShadow: 'rgba(0, 0, 0, 0.15) 0px 2px 8px',\n        width: '100px'\n    },\n    teamName: {\n        fontSize: '4vw'\n    }\n})\n\nexport default function Team(props: ITeamProps) {\n    const classes = useStyles()\n\n    return (\n        <Box className={classes.team}>\n            <img alt={props.name} className={classes.teamFlag} src={props.flag} />\n            <div className={classes.teamName}>\n                <Typography>{props.name}</Typography>\n            </div>\n        </Box>\n    )\n}","import { Box, Card, makeStyles, OutlinedInput, Typography } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport { IMatchData, IPredictionData } from \"../types/types\";\nimport { getImageUrl } from \"../utils/s3\";\nimport { getJWT, resolveEndpoint } from \"../utils/Utils\";\nimport Team from \"./Team\";\n\ninterface IPredictionProps {\n    matchData: IMatchData,\n    predictionData: IPredictionData\n}\n\nexport const useStyles = makeStyles({\n    match: {\n        width: '90%',\n        margin: '0 auto',\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    game: {\n        width: '95%',\n        margin: '0 auto',\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginTop: '5vh',\n        position: 'relative'\n    },\n    teaminput: {\n        width: '50px',\n        height: '50px',\n        fontSize: '40px',\n        textAlign: 'center',\n        marginTop: '15px'\n    },\n    date: {\n        fontSize: '8px',\n        marginBottom: '2px',\n        maringTop: '2px',\n        verticalAlign: 'center',\n        position: 'relative',\n        color: 'grey'\n    },\n    matchCard: {\n        marginBottom: '15px',\n        textAlign: 'center',\n        borderRadius: '10px',\n    },\n    penaltyWinner: {\n        fontSize: '16px',\n    },\n    resultText: {\n        backgroundColor: '#505e73',\n        padding: '4px',\n        borderRadius: '3px',\n        color: 'white'\n    },\n    allPredictionContainer: {\n        marginTop: '15px',\n        marginBottom: '10px',\n        position: 'fixed'\n    }\n})\n\nconst defaultWasSent = { success: false, error: false }\n\nexport default function PredictionCard(props: IPredictionProps) {\n    const classes = useStyles()\n    const [teamOneScore, setTeamOneScore] = useState({ \n        score: props.predictionData.homeScore == null ? '' : props.predictionData.homeScore.toString(), \n        error: false \n    });\n    const [teamTwoScore, setTeamTwoScore] = useState({ \n        score: props.predictionData.awayScore == null ? '' : props.predictionData.awayScore.toString(), \n        error: false \n    });\n    const [wasSent, setWasSent] = useState(defaultWasSent)\n\n    useEffect(() => {\n        setWasSent({ success: false, error: false })\n    }, [setTeamOneScore, setTeamTwoScore])\n\n    function sendPrediction(homeScore: number, awayScore: number) {\n        console.log(props.matchData.matchId)\n        fetch(resolveEndpoint('predictions/make'), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Authorization': getJWT()\n            },\n            body: JSON.stringify({\n                homeScore: homeScore,\n                awayScore: awayScore,\n                matchId: props.matchData.matchId\n            })\n        }).then(res => {\n            if (!res.ok) {\n                setWasSent({ success: false, error: true })\n                return\n            }\n            setWasSent({ success: true, error: false })\n            return res.json().then(result => {\n                if (result !== null) {                    \n                    setTimeout(function () {\n                        setWasSent(defaultWasSent);\n                    }, 500)\n                }\n            });\n        })\n    }\n\n    function getResponseGlow(): React.CSSProperties | undefined {\n        return wasSent.success ?\n            {\n                border: '1px solid rgb(86, 180, 89)',\n                boxShadow: '0px 1px 3px rgba(0, 0, 0, 0.05)inset, 0px 0px 8px rgba(82, 168, 100, 0.6)'\n            } : wasSent.error ? {\n                border: '1px solid rgb(199, 18, 49)',\n                boxShadow: '0px 1px 3px rgba(0, 0, 0, 0.05)inset, 0px 0px 8px rgba(160, 30, 60, 0.6)'\n            } : {};\n    }\n\n    function handlePrediction() {\n        const scoreOne = parseInt(teamOneScore.score)\n        const scoreTwo = parseInt(teamTwoScore.score)\n        var areBothScoresValid = validateScores(scoreOne, scoreTwo);\n\n        if (!areBothScoresValid) return\n        \n        setTeamOneScore({ ...teamOneScore, error: false })\n        setTeamTwoScore({ ...teamTwoScore, error: false })\n\n        sendPrediction(scoreOne, scoreTwo)\n    }\n\n    function validateScores(scoreOne: number, scoreTwo: number) {\n        var areBothScoresValid = true;\n        if (isNaN(scoreOne)) {\n            setTeamOneScore({ ...teamOneScore, error: true });\n            areBothScoresValid = false;\n        }\n\n        if (isNaN(scoreTwo)) {\n            setTeamTwoScore({ ...teamTwoScore, error: true });\n            areBothScoresValid = false;\n        }\n\n        return areBothScoresValid;\n    }\n\n    function renderUnpredictedScore() {\n        return (\n            <>\n                <OutlinedInput\n                    className={classes.teaminput}\n                    style={getResponseGlow()}\n                    id=\"outlined-basic\"\n                    value={teamOneScore.score}\n                    onChange={(input) => setTeamOneScore({ ...teamOneScore, score: input.target.value })}\n                    onBlur={() => handlePrediction()}\n                    error={teamOneScore.error} />\n                <OutlinedInput\n                    className={classes.teaminput}\n                    id=\"outlined-basic\"\n                    style={getResponseGlow()}\n                    value={teamTwoScore.score}\n                    onChange={(input) => setTeamTwoScore({ ...teamTwoScore, score: input.target.value })}\n                    onBlur={() => handlePrediction()}\n                    error={teamTwoScore.error}\n                />\n            </>\n        )\n    }\n\n    \n    return (\n        <Card className={classes.matchCard}>\n            <Box className={classes.date}>\n                <Typography>{props.matchData.matchDate + ' - ' + props.matchData.matchTime}</Typography>\n            </Box>\n            <Box className={classes.match}>\n                <Box>\n                    <Team name={props.matchData.homeTeam} flag={getImageUrl(props.matchData.homeTeam)} />\n                </Box>\n                {renderUnpredictedScore()}\n                <Box>\n                    <Team name={props.matchData.awayTeam} flag={getImageUrl(props.matchData.awayTeam)} />\n                </Box>\n            </Box>\n        </Card>\n    )\n}","import { Box, Container, makeStyles, Typography } from \"@material-ui/core\"\nimport { useEffect, useState } from \"react\"\nimport { IMatchData, IPredictionData } from \"../types/types\"\nimport { getJWT, resolveEndpoint } from \"../utils/Utils\"\nimport { EMPTY_PREDICTION } from \"./Constants\"\nimport Prediction from \"./Prediction\"\n\ninterface IPredictionsProps {\n    heading: string,\n    matchData: IMatchData[]\n}\n\nconst useStyles = makeStyles({\n    header: {\n        paddingTop: '10px',\n        paddingBottom: '20px',\n        position: 'relative'\n    },\n    heading: {\n        marginTop: \"1rem\",\n        paddingTop: \"1rem\",\n        fontSize: \"2rem\",\n        paddingBottom: \"1rem\",\n    }\n})\n\nexport default function Predictions(props: IPredictionsProps) {\n    const classes = useStyles()\n    const [predictionData, setPredictionData] = useState<Map<string, IPredictionData>>(new Map())\n    const [hasFetched, setHasFetched] = useState<boolean>(false)\n\n    function getPredictionCards(matchData: IMatchData[]) {\n        return (matchData.map(match => {\n            const predData: IPredictionData = predictionData.has(match.matchId) \n                ? predictionData.get(match.matchId)!\n                : EMPTY_PREDICTION;\n            \n            // TODO: this is such a hack but I couldn't get the callback to work\n            return hasFetched \n                ? <Prediction key={match.matchId} matchData={match} predictionData={predData}/>\n                : <></>\n        }))\n    }\n\n    useEffect(() => {\n        fetch(resolveEndpoint('predictions/fetch'), {\n            method: 'POST',\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Authorization': getJWT()\n            },\n            body: JSON.stringify({\n                matchIds: props.matchData.map(data => data.matchId)\n            })\n        }).then(res => {\n            if (!res.ok) {\n                setHasFetched(true)\n                return\n            }\n            return res.json().then(res => {\n                const asMap: Map<string, IPredictionData> = new Map(Object.entries(res.body))\n                setPredictionData(asMap)\n                setHasFetched(true)\n            })\n        })\n    }, [setPredictionData, setHasFetched, props.matchData])\n\n    return props.matchData.length > 0 \n        ? (\n            <Box m={-2}>\n                <Container className={classes.header}>\n                    <Typography className={classes.heading}>{props.heading}</Typography>\n                    {getPredictionCards(props.matchData)}\n                </ Container>\n            </Box>\n        ) \n        : (<></>)\n}","import { Container, createMuiTheme, makeStyles, Toolbar } from '@material-ui/core';\nimport { useEffect, useState } from 'react';\nimport PointsCard from '../leaderboard/PointCard';\nimport League from '../league/League';\nimport Header from '../misc/Header';\nimport Predictions from '../predictions/Predictions';\nimport { IMatchData } from '../types/types';\nimport { getJWT, resolveEndpoint } from '../utils/Utils';\n\nconst useStyles = makeStyles({\n  logo: {\n    maxHeight: '15vw'\n  },\n  homepage: {\n    position: 'relative',\n    left: 0,\n    width: '100%'\n  }\n});\n\nexport const fontTheme = createMuiTheme({\n  typography: {\n    fontFamily: [\n      'Source Sans Pro',\n      'sans-serif',\n    ].join(','),\n  },\n});\n\ninterface IGetMatches {\n  imminentMatches: IMatchData[],\n  nextMatches: IMatchData[]\n}\n\nfunction Homepage() {\n  const classes = useStyles();\n  const [matchData, setMatchData] = useState<IGetMatches>({ imminentMatches: [], nextMatches: []})\n\n  useEffect(() => {\n    fetch(resolveEndpoint('match/get-upcoming'), {\n      method: 'GET',\n      headers: {\n        'Authorization': getJWT()\n      }\n    }).then(res => {\n      if (!res.ok) {\n        return\n      }\n      return res.json()\n    }).then(res => {\n      console.log(res.data)\n      setMatchData(res.data)\n    })\n  }, [setMatchData])\n\n  return (\n    <>\n      <Header />\n      <Toolbar/>\n      <Container className={classes.homepage} maxWidth=\"xs\">\n        <PointsCard />\n        {matchData.imminentMatches.length > 0 ? <Predictions heading=\"Next Games\" matchData={matchData.imminentMatches}/> : <></>}\n        <League />\n        {matchData.nextMatches.length > 0 ? <Predictions heading=\"Upcoming Games\" matchData={matchData.nextMatches}/> : <></>}\n      </Container>\n    </>\n  )\n}\n\nexport default Homepage;","import {\n  Button,\n  Container,\n  CssBaseline,\n  makeStyles,\n  TextField,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport Header from \"../misc/Header\";\nimport { getJWT, resolveEndpoint } from \"../utils/Utils\";\n\nexport const useStylesLeague = makeStyles({\n  container: {\n    textAlign: \"center\",\n  },\n  gradient: {\n    background:\n      \"linear-gradient(to bottom right, rgba(255, 122, 24, 0.2), rgba(175, 0, 45, 0.2), rgba(49, 145, 151, 0.2))\",\n  },\n  heading: {\n    paddingTop: \"2rem\",\n    fontSize: \"2rem\",\n    paddingBottom: \"1rem\",\n  },\n  first: {\n    fontWeight: \"bold\",\n  },\n  link: {\n    color: \"#A30E36\",\n    textDecoration: \"underline\",\n    cursor: \"pointer\"\n  },\n  inputText: {\n    width: \"100%\",\n    textAlign: \"center\",\n  },\n  button: {\n    top: \"15px\",\n    width: \"100%\",\n    background:\n      \"linear-gradient(90deg, rgba(154,12,52,1) 0%, rgba(0,0,0,1) 100%)\",\n    color: \"white\",\n    fontWeight: \"bold\",\n  },\n})\n\nexport default function JoinLeaguePage() {\n  const classes = useStylesLeague();\n  const history = useHistory();\n  const search = new URLSearchParams(useLocation().search);\n\n  const [leagueName, setLeagueName] = useState({\n    value: search.get(\"leagueId\") || \"\",\n    error: false,\n  });\n\n  const handleLeagueJoin = () => {\n    fetch(resolveEndpoint(\"league/join\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: getJWT(),\n      },\n      body: JSON.stringify({\n        leagueId: leagueName.value,\n      }),\n    }).then((res) => {\n      if (res.status === 200) {\n        history.push(\"/home\");\n      } else {\n        setLeagueName({ ...leagueName, error: true });\n      }\n    });\n  };\n\n  return (\n    <Container component=\"main\">\n      <CssBaseline />\n        <Header />\n        <Toolbar />\n        <Container className={classes.container} maxWidth=\"xs\">\n          <Typography className={classes.heading}>Join a League</Typography>\n          <Typography className={classes.first}>\n            Enter the league code provided to you by the league owner.\n          </Typography>\n          <Typography>\n            If you want to create a league you can create one by clicking the\n            link below:\n          </Typography>\n          <Typography\n            className={classes.link}\n            onClick={() => history.push(\"/league/create\")}\n          >\n            Create a League.\n          </Typography>\n          <TextField\n            id=\"outlined-helperText\"\n            label=\"League Id\"\n            helperText=\"Get your friend to send you the league id :)\"\n            className={classes.inputText}\n            value={leagueName.value}\n            error={leagueName.error}\n            onChange={(input) =>\n              setLeagueName({ ...leagueName, value: input.target.value })\n            }\n            color=\"primary\"\n          />\n          <Button\n            className={classes.button}\n            onClick={() => handleLeagueJoin()}\n          >\n            Join League!\n          </Button>\n        </Container>\n    </Container>\n  );\n}\n","import { Container, Typography, Button, Toolbar, TextField, makeStyles } from \"@material-ui/core\"\nimport { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport Header from \"../misc/Header\"\nimport { IUserTextInput } from \"../types/types\"\nimport { getJWT, resolveEndpoint } from \"../utils/Utils\"\nimport { useStylesLeague } from \"./JoinLeague\"\n\nexport default function CreateLeaguePage() {\n    const classes = useStylesLeague()\n    const history = useHistory()\n    const [leagueName, setLeagueName] = useState<IUserTextInput>({ value: '', error: false })\n    const [success, setSuccess] = useState<boolean>(false)\n    const [isWaiting, setIsWaiting] = useState<boolean>(false)\n\n    useEffect(() => { }, [setSuccess, setIsWaiting])\n\n    const handleLeagueCreate = () => {\n        setIsWaiting(true)\n        fetch(resolveEndpoint('league/create'), {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": getJWT()\n          },\n          body: JSON.stringify({\n            leagueName: leagueName.value\n          })\n        }).then(res => {\n            setIsWaiting(false)\n            if (res.status !== 200) {\n                setLeagueName({ ...leagueName, error: true })\n                alert('League Name already in use, try again')\n            } else {\n                history.push(\"/home\")\n                setSuccess(true)\n                setTimeout(function() { setSuccess(false) }, 2000)\n            }\n        })\n    }\n\n    return (\n        <>\n            <Header />\n            <Toolbar/>\n            <Container className={classes.container} maxWidth='xs'>\n                <Typography className={classes.heading}>Create a League</Typography> \n                <Typography className={classes.first}>Enter your league name to create a private league for you and friends.</Typography>\n                <TextField\n                    id=\"outlined-helperText\"\n                    label=\"League Name\"\n                    className={classes.inputText}\n                    onChange={(input) => setLeagueName({ ...leagueName, value: input.target.value })}\n                    error={leagueName.error}\n                    style={\n                        success ? {\n                            boxShadow: '0 0 5px rgba(20, 219, 96, 1)',\n                            border: '1px solid rgba(20, 219, 96, 1)'\n                        } : {}\n                    }\n                />\n                <Button className={classes.button} onClick={() => handleLeagueCreate()}>\n                    {success ? 'SUCCESS' : isWaiting ? 'creating...' : 'Create League!' }\n                </Button>            \n            </Container>\n        </>\n    )\n}","import React, { useEffect, useState } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Link from \"@material-ui/core/Link\";\nimport logo from '../img/logo.png';\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { resolveEndpoint, isTokenValid } from \"../utils/Utils\";\nimport { Copyright } from \"./Copyright\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: \"3rem\",\n  },\n  logo: {\n    maxHeight: '10vh'\n  }\n}));\n\ninterface PasswordResetProps {\n  location?: {\n    state?: {\n      email?: {\n        value: string;\n      };\n    };\n  };\n}\n\nexport default function PasswordReset(props: PasswordResetProps) {\n  const [otpIsLoading, setOtpIsLoading] = useState(false);\n  const [resetPassIsLoading, setResetPassIsLoading] = useState(false);\n  const classes = useStyles();\n  const [email, setEmail] = useState({\n    value: props.location?.state?.email?.value || \"\",\n    error: false,\n  });\n  const [otp, setOtp] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [validToken, setValidToken] = useState(false);\n  const [successfulReset, setSuccessfulReset] = useState(false);\n\n  useEffect(() => {\n    isTokenValid().then((valid) => {\n      if (valid) {\n        setValidToken(true);\n      }\n    });\n  }, [setValidToken]);\n\n  function sendOtp(): void {\n    setOtpIsLoading(true);\n    fetch(resolveEndpoint(\"auth/reset\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: email.value,\n      }),\n    }).then((result) => {\n      setOtpIsLoading(false);\n      if (result.status !== 200) {\n        alert(\"Error creating OTP try again later\");\n      }\n    }).catch(() => {\n      setOtpIsLoading(false);\n      alert(\"Error creating OTP try again later\")\n    })\n  }\n\n  function resetPassword(): void {\n    setResetPassIsLoading(true);\n    if (password !== confirmPassword) {\n      return;\n    }\n\n    fetch(resolveEndpoint(\"auth/confirm\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: email.value,\n        confirmationCode: otp,\n        password: password,\n      }),\n    }).then((result) => {\n      setResetPassIsLoading(false);\n      if (result.status === 200) {\n        setSuccessfulReset(true);\n      } else {\n        alert(\"Error resetting password\");\n      }\n    });\n  }\n\n  if (validToken) {\n    return <Redirect to={\"/home\"} />;\n  } else if (successfulReset) {\n    return <Redirect to={\"/\"} />;\n  } else {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n        <img className={classes.logo} src={logo} alt={'qatar 2022 logo'} />\n          <Typography component=\"h1\" variant=\"h5\">\n            Reset Password\n          </Typography>\n          <div className={classes.form}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              type=\"email\"\n              name=\"email\"\n              autoComplete=\"email\"\n              value={email.value}\n              autoFocus\n              onChange={(input) =>\n                setEmail({ ...email, value: input.target.value })\n              }\n              error={email.error}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={() => sendOtp()}\n            >\n              {otpIsLoading ? (\n                <CircularProgress style={{ padding: \"5px\" }} color=\"inherit\" />\n              ) : (\n                \"Request verification code\"\n              )}\n            </Button>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Verification Code\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"OTP\"\n              onChange={(input) => setOtp(input.target.value)}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(input) => setPassword(input.target.value)}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"confirmPassword\"\n              label=\"Confirm Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(input) => setConfirmPassword(input.target.value)}\n              error={password !== confirmPassword}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={() => resetPassword()}\n            >\n              {resetPassIsLoading ? (\n                <CircularProgress style={{ padding: \"5px\" }} color=\"inherit\" />\n              ) : (\n                \"Reset Password\"\n              )}\n            </Button>\n            <Grid container>\n              <Grid item>\n                <Route\n                  render={({ history }: { history: any }) => (\n                    <Link\n                      onClick={() => {\n                        history.push(\"/\");\n                      }}\n                      variant=\"body2\"\n                    >\n                      {\"Remembered your password? Sign in\"}\n                    </Link>\n                  )}\n                />\n              </Grid>\n              <Grid item>\n                <Route\n                  render={({ history }: { history: any }) => (\n                    <Link\n                      onClick={() => {\n                        history.push(\"/signup\");\n                      }}\n                      variant=\"body2\"\n                    >\n                      {\"Don't have an account? Sign Up\"}\n                    </Link>\n                  )}\n                />\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </Container>\n    );\n  }\n}\n","import { useEffect } from \"react\"\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { isTokenValid } from \"../utils/Utils\";\n\ninterface ComponentProps {\n    children?: React.ReactNode\n}\n\ninterface AuthRedirectProps extends ComponentProps {\n    expectAuthResult: boolean\n    redirectTo: string\n}\n\nconst generateRedirectSearchParams = (redirectTo: string) => {\n    const params = new URLSearchParams()\n    params.set(\"redirect\", redirectTo)\n    return params\n}\n\n\nexport const AuthRedirect = (props: AuthRedirectProps) => {\n    const history = useHistory()\n    const search = new URLSearchParams(useLocation().search)\n\n    useEffect(() => {\n        isTokenValid().then(valid => {\n            if (valid === props.expectAuthResult) {\n                if (props.expectAuthResult) {\n                    history.replace(`${props.redirectTo}`)\n                    return\n                }\n\n                const combinedParams = new URLSearchParams({\n                    ...Object.fromEntries(search),\n                    ...Object.fromEntries(generateRedirectSearchParams(history.location.pathname))\n                })\n\n                history.replace(`${props.redirectTo}?${combinedParams.toString()}`)\n            }\n        })\n    })\n\n    return (\n        <div>\n            {props.children}\n        </div>\n    )\n}","import React, { useEffect, useState } from 'react';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Link from '@material-ui/core/Link';\nimport logo from '../img/logo.png';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { resolveEndpoint, isTokenValid, setAuthToken, RESPONSE_AUTH_HEADER, setRefreshToken, RESPONSE_REFRESH_HEADER } from '../utils/Utils';\nimport { Copyright } from './Copyright';\nimport { IUserTextInput } from '../types/types';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: \"3rem\"\n  },\n  logo: {\n    maxHeight: '30vh'\n  }\n}));\n\nconst generateSignUpLink = (params: URLSearchParams) => {\n  return `/signup?${params.toString()}`\n}\n\nconst generateHomeLink = (params: URLSearchParams) => {\n  const redirect = params.get(\"redirect\")\n  params.delete(\"redirect\")\n  return `${redirect || \"/home\"}?${params.toString()}`\n}\n\nexport default function SignIn() {\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(false)\n  const [email, setEmail] = useState<IUserTextInput>({ value: '', error: false });\n  const [password, setPassword] = useState<IUserTextInput>({ value: '', error: false });\n  const [validToken, setValidToken] = useState<boolean>(false);\n  const search = new URLSearchParams(useLocation().search)\n  const signUpLink = generateSignUpLink(search)\n\n  useEffect(() => {\n    isTokenValid().then(valid => {\n      if (valid === true) {\n        setValidToken(true)\n      }\n    })\n  }, [setValidToken])\n\n  const handleLogin = (history: any) => () => {\n    setIsLoading(true)\n    fetch(resolveEndpoint('auth/login'), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email.value,\n        password: password.value\n      })\n    }).then(res => {\n      setIsLoading(false)\n      if (res.status === 307) {\n        history.push({\n          pathname: '/reset',\n          state: { email: email },\n        })\n        return\n      }\n\n      if (!res.ok) {\n        setPassword({ ...password, error: true });\n        setEmail({ ...email, error: true });\n        return\n      }\n      setValidToken(true)\n      setAuthToken(res.headers.get(RESPONSE_AUTH_HEADER))\n      setRefreshToken(res.headers.get(RESPONSE_REFRESH_HEADER))\n    })\n  };\n\n\n  if (validToken) {\n    return (\n      <Redirect to={generateHomeLink(search)} />\n    )\n  } else {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <img className={classes.logo} src={logo} alt={'qatar 2022 logo'} />\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <div className={classes.form}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              type=\"email\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              onChange={(input) => setEmail({ ...email, value: input.target.value })}\n              error={email.error}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(input) => setPassword({ ...password, value: input.target.value })}\n              error={password.error}\n            />\n            <Route render={({ history }: { history: any }) => (\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={handleLogin(history)}\n              >\n                {isLoading ? (\n                  <CircularProgress style={{ padding: \"5px\" }} color=\"inherit\" />\n                ) : (\n                  \"Sign In\"\n                )}\n              </Button>\n            )} />\n            <Grid container>\n              <Grid item>\n                <Route render={({ history }: { history: any }) => (\n                  <Link onClick={() => { history.replace(signUpLink) }} variant=\"body2\">\n                    {\"Don't have an account? Sign Up\"}\n                  </Link>\n                )} />\n              </Grid>\n              <Grid item>\n                <Route render={({ history }: { history: any }) => (\n                  <Link onClick={() => { history.push('/reset') }} variant=\"body2\">\n                    {\"Forgotten your password? Reset it here\"}\n                  </Link>\n                )} />\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </Container>\n    );\n  }\n}","import {\n  Container,\n  createMuiTheme,\n  makeStyles,\n  Table,\n  TableBody,\n  TableHead,\n  TableRow,\n  Toolbar,\n  Typography,\n  TableCell,\n} from \"@material-ui/core\";\nimport { ReactFragment, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport Header from \"../misc/Header\";\nimport { capitalizeFirstLetter, getJWT, resolveEndpoint } from \"../utils/Utils\";\nimport { LinearProgress } from \"@mui/material\";\n\nexport const fontTheme = createMuiTheme({\n  typography: {\n    fontFamily: [\"Source Sans Pro\", \"sans-serif\"].join(\",\"),\n  },\n});\n\ninterface userDataInLeague {\n  familyName: string;\n  userId: string;\n  leagueIds: string[];\n  givenName: string;\n  totalPoints: number;\n  rank: number;\n}\n\ninterface getLeagueData {\n  leagueId: string;\n  leagueName: string;\n  users: userDataInLeague[];\n}\n\nconst useStyles = makeStyles({\n  heading: {\n    marginTop: \"1.75rem\",\n    paddingTop: \"1rem\",\n    fontSize: \"2rem\",\n    paddingBottom: \"1rem\",\n  },\n  subHeading: {\n    fontSize: \"1.5rem\",\n  },\n  standings: {\n    position: \"relative\",\n    left: 0,\n    width: \"100%\",\n  },\n  leagueContainer: {\n    paddingTop: \"1rem\",\n  },\n  leagueTopDiv: {\n    content: \"\",\n    position: \"absolute\",\n    top: \"100%\",\n    marginTop: \"1.5rem\",\n    marginLeft: \"2.5%\",\n    marginRight: \"2.5%\",\n    left: \"0\",\n    width: \"95%\",\n    boxShadow: \"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px\",\n    borderRadius: \"2vw\",\n  },\n  table: {\n    marginBottom: \"2rem\",\n  },\n});\n\nexport const Standings = () => {\n  const classes = useStyles();\n  const [leagueData, setLeagueData] = useState<getLeagueData | undefined>(\n    undefined\n  );\n  const [isLoading, setIsLoading] = useState(false);\n  const search = new URLSearchParams(useLocation().search);\n  const leagueId = search.get(\"leagueId\");\n  const leagueName = leagueData === undefined ? \"\" : leagueData.leagueName;\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(resolveEndpoint(\"league/get\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: getJWT(),\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        leagueId: leagueId,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return null;\n        }\n        return res.json();\n      })\n      .then((res) => {\n        setIsLoading(false);\n        if (res !== null) {\n          setLeagueData(res.data);\n        }\n      });\n  }, [leagueId]);\n\n  function getRows(): ReactFragment {\n    if (leagueData === undefined) {\n      return [];\n    }\n    return leagueData.users.sort((a, b) => a.rank - b.rank).map((user) => {\n      return (\n        <TableRow key={user.userId}>\n          <TableCell>{leagueData.users.filter((u) => u.rank === user.rank)\n            .length === 1\n            ? user.rank\n            : \"=\" + user.rank}</TableCell>\n          <TableCell style={{ paddingTop: \"0.7rem\", paddingBottom: \"0.7rem\" }}>\n            {capitalizeFirstLetter(user.givenName)}{\" \"}\n            {capitalizeFirstLetter(user.familyName)}\n          </TableCell>\n          <TableCell>{user.totalPoints}</TableCell>\n        </TableRow>\n      );\n    });\n  }\n\n  return (\n    <>\n      <Header />\n      <Toolbar />\n      <Container className={classes.standings} maxWidth=\"xs\">\n\n          <Container>\n            <Typography className={classes.heading}>Standings</Typography>\n            <Typography className={classes.subHeading}>\n              League - {leagueName}\n            </Typography>\n          </Container>\n          <Container className={classes.leagueTopDiv}>\n            <Container className={classes.leagueContainer}>\n              <Container className={classes.table}>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>\n                        <b>Rank</b>\n                      </TableCell>\n                      <TableCell>\n                        <b>Name</b>\n                      </TableCell>\n                      <TableCell>\n                        <b>Score</b>\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {isLoading && (\n                      <TableRow>\n                        <TableCell colSpan={3}>\n                          <LinearProgress color=\"inherit\" />\n                        </TableCell>\n                      </TableRow>\n                    )}\n                    {!isLoading && getRows()}\n                  </TableBody>\n                </Table>\n              </Container>\n            </Container>\n          </Container>\n      </Container>\n    </>\n  );\n};\n","import { HashRouter as Router, Route } from \"react-router-dom\";\nimport SignUp from \"./authentication/SignUp\";\nimport Homepage from \"./homepage/Homepage\";\nimport JoinLeaguePage from \"./league/JoinLeague\";\nimport CreateLeaguePage from \"./league/CreateLeague\";\nimport PasswordReset from \"./authentication/PasswordReset\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport { AuthRedirect } from \"./authentication/Redirect\";\nimport SignIn from \"./authentication/SignIn\";\nimport { Standings } from \"./standings/standings\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#f5938c\",\n      main: \"#9a0c34\",\n      dark: \"#840033\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      light: \"#ff7961\",\n      main: \"#f44336\",\n      dark: \"#ba000d\",\n      contrastText: \"#000\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Source Sans Pro\", \"sans-serif\"].join(\",\"),\n  },\n});\n\nexport default function App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Router>\n        <Route path=\"/\" exact>\n          <AuthRedirect expectAuthResult={true} redirectTo=\"/home\">\n            <SignIn />\n          </AuthRedirect>\n        </Route>\n        <Route path=\"/signup\" exact component={SignUp} />\n        <Route path=\"/reset\" exact component={PasswordReset} />\n        <Route path=\"/home\" exact>\n          <AuthRedirect expectAuthResult={false} redirectTo=\"/\">\n            <Homepage />\n          </AuthRedirect>\n        </Route>\n        <Route path=\"/league/join\" exact>\n          <AuthRedirect expectAuthResult={false} redirectTo=\"/\">\n            <JoinLeaguePage />\n          </AuthRedirect>\n        </Route>\n        <Route path=\"/league/create\" exact>\n          <AuthRedirect expectAuthResult={false} redirectTo=\"/\">\n            <CreateLeaguePage />\n          </AuthRedirect>\n        </Route>\n        <Route path=\"/standings\" exact>\n          <AuthRedirect expectAuthResult={false} redirectTo=\"/\">\n            <Standings />\n          </AuthRedirect>\n        </Route>\n      </Router>\n    </ThemeProvider>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\nimport { pub } from \"./utils/Constants\";\nimport { getJWT, resolveEndpoint } from \"./utils/Utils\";\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://cra.link/PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://cra.link/PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function registerPushNotifications() {\n    navigator.serviceWorker.ready.then((registration) => {\n        registration.pushManager.subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: pub,\n        }).then(x => {\n            console.log(\"Success from push sub\")\n            console.log(x)\n\n            fetch(resolveEndpoint('notification/subscribe'), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    'Authenticate': getJWT()\n                },\n                body: JSON.stringify({\n                    subscription: JSON.stringify(x),\n                    blocked: false,\n                })\n            }).then(res => {\n                console.log(res)\n            })\n        })\n    })\n}\n\nexport function updateNotificationDenied() {\n    fetch(resolveEndpoint('notification/subscribe'), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            'Authenticate': getJWT()\n        },\n        body: JSON.stringify({\n            blocked: true,\n        })\n    })\n}\n\nexport function test() {\n    Notification.requestPermission().then(permission => {\n        if (permission === 'denied') {\n            updateNotificationDenied()\n            return\n        }\n        if (permission === 'default') {\n            return\n        }\n        registerPushNotifications()\n    })\n\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorker from './serviceWorkerRegistration'\nimport \"./index.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nserviceWorker.register()"],"sourceRoot":""}